<div class="upgrade-dialog">
  <!-- Close button -->
  <button class="close-btn" (click)="close()">
    <mat-icon>close</mat-icon>
  </button>

  <!-- Feature Icon & Message -->
  <div class="feature-header">
    <div class="feature-icon">
      <mat-icon>{{ featureInfo.icon }}</mat-icon>
    </div>
    <h2>{{ featureInfo.title }}</h2>
    <p>{{ featureInfo.description }}</p>
  </div>

  <!-- Price -->
  <div class="price-section">
    <span class="price-amount">{{ priceFormatted() }}</span>
    <span class="price-period">/month</span>
  </div>

  <!-- Features List -->
  <div class="features-list">
    @for (feature of features; track feature.id) {
      <div class="feature-item">
        <mat-icon>{{ feature.icon }}</mat-icon>
        <span>{{ feature.label }}</span>
      </div>
    }
  </div>

  <!-- Error Message -->
  @if (error()) {
    <div class="error-message">
      <mat-icon>error</mat-icon>
      <span>{{ error() }}</span>
    </div>
  }

  <!-- Actions -->
  <div class="dialog-actions">
    <button class="secondary-btn" (click)="close()">Maybe Later</button>
    <button 
      class="primary-btn" 
      (click)="subscribe()"
      [disabled]="loading()">
      @if (loading()) {
        <mat-spinner diameter="20"></mat-spinner>
        <span>Loading...</span>
      } @else {
        <span>Subscribe Now</span>
        <mat-icon>arrow_forward</mat-icon>
      }
    </button>
  </div>

  <!-- Trust message -->
  <p class="trust-message">
    <mat-icon>lock</mat-icon>
    Cancel anytime. Secure payment via Stripe.
  </p>
</div>
