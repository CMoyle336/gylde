<div class="upgrade-dialog">
  <!-- Close button -->
  <button class="close-btn" (click)="close()" [attr.aria-label]="'UPGRADE_DIALOG.CLOSE_ARIA' | translate">
    <mat-icon>close</mat-icon>
  </button>

  <!-- Feature Icon & Message -->
  <div class="feature-header">
    <div class="feature-icon">
      <mat-icon>{{ featureInfo.icon }}</mat-icon>
    </div>
    <h2>{{ featureInfo.titleKey | translate }}</h2>
    <p>{{ featureInfo.descriptionKey | translate }}</p>
  </div>

  <!-- Price -->
  <div class="price-section">
    <span class="price-amount">{{ priceFormatted() }}</span>
    <span class="price-period">{{ 'UPGRADE_DIALOG.PER_MONTH' | translate }}</span>
  </div>

  <!-- Features List -->
  <div class="features-list">
    @for (feature of features; track feature.id) {
      <div class="feature-item">
        <mat-icon>{{ feature.icon }}</mat-icon>
        <span>{{ feature.labelKey | translate }}</span>
      </div>
    }
  </div>

  <!-- Error Message -->
  @if (error()) {
    <div class="error-message">
      <mat-icon>error</mat-icon>
      <span>{{ error() }}</span>
    </div>
  }

  <!-- Actions -->
  <div class="dialog-actions">
    <button class="secondary-btn" (click)="close()">{{ 'UPGRADE_DIALOG.MAYBE_LATER' | translate }}</button>
    <button 
      class="primary-btn" 
      (click)="subscribe()"
      [disabled]="loading()">
      @if (loading()) {
        <mat-spinner diameter="20"></mat-spinner>
        <span>{{ 'UPGRADE_DIALOG.LOADING' | translate }}</span>
      } @else {
        <span>{{ 'UPGRADE_DIALOG.SUBSCRIBE_NOW' | translate }}</span>
        <mat-icon>arrow_forward</mat-icon>
      }
    </button>
  </div>

  <!-- Trust message -->
  <p class="trust-message">
    <mat-icon>lock</mat-icon>
    {{ 'UPGRADE_DIALOG.TRUST_MESSAGE' | translate }}
  </p>
</div>
