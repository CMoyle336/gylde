<header class="public-header">
  <div class="header-container">
    <a routerLink="/" class="header-logo">Gylde</a>
    
    <nav class="header-nav" aria-label="Main navigation">
      @if (isAuthenticated()) {
        <button type="button" class="nav-link" (click)="logout()">
          {{ 'HOME.NAV.LOGOUT' | translate }}
        </button>
        <a routerLink="/discover" class="btn-primary-sm">Launch</a>
      } @else {
        <button type="button" class="nav-link" (click)="onSignIn()">
          {{ 'HOME.NAV.SIGN_IN' | translate }}
        </button>
        <button type="button" class="btn-primary-sm" (click)="onGetStarted()">
          {{ 'HOME.NAV.GET_STARTED' | translate }}
        </button>
      }

      <!-- Theme Toggle -->
      <button 
        type="button" 
        class="theme-toggle"
        [attr.aria-label]="themeService.isDarkMode() ? 'Switch to light mode' : 'Switch to dark mode'"
        (click)="themeService.toggleTheme()">
        <span class="material-icons-outlined">
          {{ themeService.isDarkMode() ? 'light_mode' : 'dark_mode' }}
        </span>
      </button>
    </nav>

    <!-- Mobile Menu Button -->
    <button 
      type="button" 
      class="mobile-menu-btn" 
      aria-label="Open menu"
      (click)="toggleMobileMenu()">
      <span class="material-icons-outlined">{{ mobileMenuOpen() ? 'close' : 'menu' }}</span>
    </button>
  </div>

  <!-- Mobile Menu Overlay -->
  @if (mobileMenuOpen()) {
    <div class="mobile-menu-overlay" (click)="closeMobileMenu()">
      <nav class="mobile-menu" (click)="$event.stopPropagation()">
        @if (isAuthenticated()) {
          <button type="button" class="mobile-nav-link" (click)="logout()">
            {{ 'HOME.NAV.LOGOUT' | translate }}
          </button>
          <a routerLink="/discover" class="btn-primary mobile-btn" (click)="closeMobileMenu()">Launch</a>
        } @else {
          <button type="button" class="mobile-nav-link" (click)="onSignIn()">
            {{ 'HOME.NAV.SIGN_IN' | translate }}
          </button>
          <button type="button" class="btn-primary mobile-btn" (click)="onGetStarted()">
            {{ 'HOME.NAV.GET_STARTED' | translate }}
          </button>
        }

        <!-- Mobile Theme Toggle -->
        <button 
          type="button" 
          class="mobile-nav-link mobile-theme-toggle"
          (click)="themeService.toggleTheme()">
          <span class="material-icons-outlined">
            {{ themeService.isDarkMode() ? 'light_mode' : 'dark_mode' }}
          </span>
          {{ themeService.isDarkMode() ? 'Light Mode' : 'Dark Mode' }}
        </button>
      </nav>
    </div>
  }
</header>
