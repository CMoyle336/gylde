<div class="virtual-phone-card">
  @if (isPremium && virtualPhone) {
    <!-- Premium user with virtual number -->
    <div class="vp-number-display">
      <div class="vp-info">
        <span class="material-icons-outlined vp-icon">phone_android</span>
        <div class="vp-details">
          <span class="vp-label">{{ 'MESSAGES.VIRTUAL_PHONE.LABEL' | translate }}</span>
          <span class="vp-number">{{ formatPhoneNumber(virtualPhone.number) }}</span>
        </div>
      </div>
      <div class="vp-actions">
        <button 
          type="button"
          class="vp-action-btn"
          (click)="onCopyNumber()"
          [title]="(copiedNumber() ? 'MESSAGES.VIRTUAL_PHONE.COPIED_TOOLTIP' : 'MESSAGES.VIRTUAL_PHONE.COPY_TOOLTIP') | translate">
          <span class="material-icons-outlined">{{ copiedNumber() ? 'check' : 'content_copy' }}</span>
        </button>
        <button 
          type="button"
          class="vp-action-btn"
          (click)="onOpenSettings()"
          [title]="'MESSAGES.VIRTUAL_PHONE.SETTINGS_TOOLTIP' | translate">
          <span class="material-icons-outlined">settings</span>
        </button>
      </div>
    </div>
  } @else if (isPremium && loading) {
    <!-- Premium user, loading -->
    <div class="vp-loading">
      <div class="loading-spinner small"></div>
      <span>{{ 'MESSAGES.VIRTUAL_PHONE.LOADING' | translate }}</span>
    </div>
  } @else if (isPremium && !hasVerifiedPhone) {
    <!-- Premium user, need to verify phone first -->
    <div class="vp-promo vp-needs-phone">
      <div class="vp-promo-text">
        <span class="material-icons-outlined">phone_locked</span>
        <span>{{ 'MESSAGES.VIRTUAL_PHONE.NEEDS_VERIFICATION' | translate }}</span>
      </div>
      <a routerLink="/settings" class="vp-verify-btn">
        <span class="material-icons-outlined">verified_user</span>
        <span>{{ 'MESSAGES.VIRTUAL_PHONE.VERIFY_BUTTON' | translate }}</span>
      </a>
    </div>
  } @else {
    <!-- Private number feature coming soon -->
    <div class="vp-promo">
      <div class="vp-promo-text">
        <span class="material-icons-outlined">shield</span>
        <span>{{ 'MESSAGES.VIRTUAL_PHONE.COMING_SOON_DESC' | translate }}</span>
      </div>
      <button type="button" class="vp-get-number-btn vp-coming-soon" disabled>
        <span class="material-icons-outlined">add_call</span>
        <span>{{ 'MESSAGES.VIRTUAL_PHONE.GET_NUMBER_BUTTON' | translate }}</span>
        <span class="coming-soon-badge">{{ 'MESSAGES.VIRTUAL_PHONE.COMING_SOON_BADGE' | translate }}</span>
      </button>
    </div>
  }
</div>
