@if (isOpen()) {
  <div class="dialog-overlay" (click)="onOverlayClick()">
    <div class="dialog manage-views-dialog" (click)="stopPropagation($event)">
      <div class="dialog-header">
        <div class="dialog-header-icon">
          <mat-icon>bookmark</mat-icon>
        </div>
        <div class="dialog-header-text">
          <h3>{{ 'DISCOVER.MANAGE_VIEWS.TITLE' | translate }}</h3>
          <p>{{ 'DISCOVER.MANAGE_VIEWS.DESCRIPTION' | translate }}</p>
        </div>
        <button mat-icon-button class="dialog-close-btn" (click)="onClose()">
          <mat-icon>close</mat-icon>
        </button>
      </div>
      
      <div class="views-list">
        @for (view of views(); track view.id) {
          <div class="view-item" [class.is-default]="view.isDefault">
            <div class="view-info">
              <div class="view-icon" [class.default]="view.isDefault">
                <mat-icon>{{ view.isDefault ? 'star' : 'bookmark_border' }}</mat-icon>
              </div>
              <div class="view-details">
                <span class="view-name">{{ view.name }}</span>
                @if (view.isDefault) {
                  <span class="view-badge">{{ 'DISCOVER.MANAGE_VIEWS.DEFAULT_BADGE' | translate }}</span>
                }
              </div>
            </div>
            <div class="view-actions">
              @if (!view.isDefault) {
                <button mat-icon-button class="default-btn" (click)="onSetDefault(view.id)" [matTooltip]="'DISCOVER.MANAGE_VIEWS.SET_DEFAULT_TOOLTIP' | translate">
                  <mat-icon>star_outline</mat-icon>
                </button>
              }
              <button mat-icon-button class="delete-btn" (click)="onDelete(view.id)" [matTooltip]="'DISCOVER.MANAGE_VIEWS.DELETE_TOOLTIP' | translate">
                <mat-icon>delete_outline</mat-icon>
              </button>
            </div>
          </div>
        } @empty {
          <div class="empty-views">
            <mat-icon>bookmarks</mat-icon>
            <p>{{ 'DISCOVER.MANAGE_VIEWS.EMPTY_TITLE' | translate }}</p>
            <span>{{ 'DISCOVER.MANAGE_VIEWS.EMPTY_DESCRIPTION' | translate }}</span>
          </div>
        }
      </div>

      <div class="dialog-footer">
        <button mat-stroked-button (click)="onClose()">{{ 'DISCOVER.MANAGE_VIEWS.DONE_BUTTON' | translate }}</button>
      </div>
    </div>
  </div>
}
